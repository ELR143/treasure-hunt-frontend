"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/map/page",{

/***/ "(app-pages-browser)/./src/app/map/page.jsx":
/*!******************************!*\
  !*** ./src/app/map/page.jsx ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_google_maps_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @react-google-maps/api */ \"(app-pages-browser)/./node_modules/@react-google-maps/api/dist/esm.js\");\n/* harmony import */ var _utils_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/api */ \"(app-pages-browser)/./src/utils/api.js\");\n// \"use client\";\n// import {\n//   GoogleMap,\n//   useJsApiLoader,\n//   MarkerF,\n//   MarkerClusterer,\n// } from \"@react-google-maps/api\";\n// import { useEffect, useState } from \"react\";\n// import CollectTreasure from \"./CollectTreasure\";\n// const containerStyle = {\n//   width: \"100%\",\n//   height: \"90vh\",\n// };\n// const treasures = [\n//   { type: \"treasure\", name: \"Big Ban\", coords: { lat: 51.5007, lng: -0.1246 } },\n//   { type: \"treasure\", name: \"Big Ban2\", coords: { lat: 51.5017, lng: -0.1246 } },\n//   {\n//     type: \"treasure\",\n//     name: \"Stonehenge\",\n//     coords: { lat: 51.1789, lng: -1.8262 },\n//   },\n//   { type: \"treasure\", name: \"closest\", coords: { lat: 52.25, lng: 0.1095 } },\n//   {\n//     type: \"treasure\",\n//     name: \"Edinburgh Castle\",\n//     coords: { lat: 55.9486, lng: -3.1999 },\n//   },\n// ];\n// const icons = {\n//   treasure: {\n//     url: \"/treasure.png\",\n//     scaledSize: { width: 50, height: 50 },\n//   },\n//   user: { url: \"/user.png\", scaledSize: { width: 50, height: 50 } },\n// };\n// function TreasureMap() {\n//   const [currentLocation, setCurrentLocation] = useState({\n//     type: \"user\",\n//     name: \"person\",\n//     coords: { lat: 0, lng: 0 },\n//   });\n//   const [points, setPoints] = useState(treasures);\n//   const [isLoadedMap, setIsLoadedMap] = useState(false);\n//   const options = { mapId: \"b6a1e26ca756909b\", mapTypeControl: false };\n//   const [destination, setDestination] = useState([]);\n//   const [minDistance, setMinDistance] = useState({});\n//   const [collect, setCollect] = useState(false);\n//   useJsApiLoader({\n//     id: \"google-map-script\",\n//     googleMapsApiKey: process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY,\n//   });\n//   useEffect(() => {\n//     function coordsDetecting(respond) {\n//       let lng = respond.coords.longitude;\n//       let lat = respond.coords.latitude;\n//       setCurrentLocation((curr) => {\n//         curr.coords.lat = lat;\n//         curr.coords.lng = lng;\n//         return curr;\n//       });\n//       setIsLoadedMap(true);\n//     }\n//     navigator.geolocation.getCurrentPosition(coordsDetecting);\n//   }, []);\n//   useEffect(() => {\n//     const destinationArray = [];\n//     points.map((point) => {\n//       destinationArray.push(`${point.coords.lat}, ${point.coords.lng}`);\n//     });\n//     setDestination(destinationArray);\n//   }, []);\n//   const calculateDistances = () => {\n//     if (currentLocation && points.length > 0) {\n//       const service = new google.maps.DistanceMatrixService();\n//       const origins = [\n//         `${currentLocation.coords.lat}, ${currentLocation.coords.lng}`,\n//       ];\n//       service.getDistanceMatrix(\n//         {\n//           origins: origins,\n//           destinations: destination,\n//           travelMode: \"WALKING\",\n//         },\n//         (response, status) => {\n//           if (status === \"OK\") {\n//             let placeId = 0;\n//             let min = response.rows[0].elements[placeId].distance.value;\n//             response.rows[0].elements.map((element, i) => {\n//               if (min > element.distance.value) {\n//                 min = element.distance.value;\n//                 placeId = i;\n//               }\n//             });\n//             setMinDistance({ distance: min, place: points[placeId] });\n//           } else {\n//             console.error(\"Error calculating distances:\", status);\n//           }\n//         }\n//       );\n//     }\n//   };\n//   useEffect(() => {\n//     if (minDistance.distance < 100) {\n//       setCollect(true);\n//     }\n//   }, [minDistance]);\n//   const checkDistance = () => {\n//     calculateDistances();\n//   };\n//   return isLoadedMap ? (\n//     <>\n//       <section className=\"userInteraction\">\n//         <div onClick={checkDistance} className=\"find button\">\n//           Find your Nearest Treasure\n//         </div>\n//         {collect ? <CollectTreasure treasure={minDistance.place} /> : \"\"}\n//       </section>\n//       <GoogleMap\n//         mapContainerStyle={containerStyle}\n//         center={currentLocation.coords}\n//         zoom={8}\n//         options={options}\n//       >\n//         <MarkerClusterer>\n//           {(clusterer) =>\n//             points.map((treasure, i) => (\n//               <MarkerF\n//                 key={i}\n//                 position={{\n//                   lat: treasure.coords.lat,\n//                   lng: treasure.coords.lng,\n//                 }}\n//                 icon={icons[treasure.type]}\n//                 clusterer={clusterer}\n//               />\n//             ))\n//           }\n//         </MarkerClusterer>\n//         <MarkerF\n//           position={{\n//             lat: currentLocation.coords.lat,\n//             lng: currentLocation.coords.lng,\n//           }}\n//           icon={icons[currentLocation.type]}\n//           label={\"Its U!\"}\n//         />\n//       </GoogleMap>\n//     </>\n//   ) : (\n//     <><h1>Loading, please wait...</h1></>\n//   );\n// }\n// export default TreasureMap;\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nconst containerStyle = {\n    width: \"100%\",\n    height: \"400px\"\n};\nconst options = {\n    streetViewControl: false\n};\nconst GoogleMapComponent = ()=>{\n    _s();\n    // the default location will be the Northcoders base in Manchester\n    const [userLocation, setUserLocation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        lat: 53.47375,\n        lng: -2.24026\n    });\n    const [isInRange, setIsInRange] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [collected, setCollected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [treasureLocations, setTreasureLocations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [watchingPosition, setWatchingPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [mapZoom, setMapZoom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(17);\n    // if the user scans and they are within the circle, a collect button appears\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (watchingPosition) {\n            if (navigator.geolocation) {\n                navigator.geolocation.watchPosition((position)=>{\n                    const userLatLng = {\n                        lat: position.coords.latitude,\n                        lng: position.coords.longitude\n                    };\n                    setUserLocation(userLatLng);\n                });\n            }\n        } else {\n            if (navigator.geolocation) {\n                navigator.geolocation.getCurrentPosition((position)=>{\n                    const userLatLng = {\n                        lat: position.coords.latitude,\n                        lng: position.coords.longitude\n                    };\n                    setUserLocation(userLatLng);\n                });\n            }\n        }\n    }, [\n        watchingPosition\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        _utils_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getAllTreasures().then((data)=>{\n            setTreasureLocations(data);\n        }).catch((error)=>{\n            console.error(\"Error fetching treasures:\", error);\n        }).finally(()=>{\n            setIsLoading(false);\n        });\n    }, []);\n    const handleScan = async ()=>{\n        try {\n            const distancesMatrix = await new window.google.maps.DistanceMatrixService().getDistanceMatrix({\n                origins: [\n                    new window.google.maps.LatLng(userLocation.lat, userLocation.lng)\n                ],\n                destinations: treasureLocations.map((treasure1)=>new window.google.maps.LatLng(treasure1.lat, treasure1.lng)),\n                travelMode: \"WALKING\"\n            });\n            // distancesMatrix.rows[0].elements will contain an array of distances to each treasure\n            const distances = distancesMatrix.rows[0].elements.map((element)=>element.distance.value);\n            // Check if any treasure is within 20 meters\n            const rangeOfTreasure = distances.some((distance)=>distance <= 20);\n            console.log(distances);\n            setIsInRange(rangeOfTreasure);\n        } catch (error) {\n            console.error(\"Error calculating distances:\", error);\n        }\n    };\n    const handleCollect = ()=>{\n        setCollected(treasure.id);\n    };\n    const handleToggleWatchPosition = ()=>{\n        setWatchingPosition((prevWatching)=>!prevWatching);\n    };\n    const mapRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(\"map\");\n    const handleZoomChanged = ()=>{\n        console.log(\"Zoom level changed:\");\n        console.log(mapRef.current);\n        let firstLoad = true;\n        if (firstLoad === false) {\n            setMapZoom(mapRef.current.state.map.zoom);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_google_maps_api__WEBPACK_IMPORTED_MODULE_3__.LoadScript, {\n        googleMapsApiKey: \"AIzaSyA6QXt8Vbg_VUnXcvmyb5J8OueJNUNAH-g\",\n        onLoad: ()=>console.log(\"Google Maps API loaded\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full\",\n                onClick: handleScan,\n                children: \"Scan for Treasures!\"\n            }, void 0, false, {\n                fileName: \"/home/elr143/northcoders/treasure-hunt/treasure-hunt-frontend/src/app/map/page.jsx\",\n                lineNumber: 297,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"\".concat(isInRange ? \"block\" : \"hidden\", \" bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full\"),\n                onClick: handleCollect,\n                children: \"Collect Treasure!\"\n            }, void 0, false, {\n                fileName: \"/home/elr143/northcoders/treasure-hunt/treasure-hunt-frontend/src/app/map/page.jsx\",\n                lineNumber: 303,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"bg-\".concat(watchingPosition ? \"red\" : \"green\", \"-500 hover:bg-\").concat(watchingPosition ? \"red\" : \"green\", \"-700 text-white font-bold py-2 px-4 rounded-full\"),\n                onClick: handleToggleWatchPosition,\n                children: watchingPosition ? \"Stop Watching Position\" : \"Start Watching Position\"\n            }, void 0, false, {\n                fileName: \"/home/elr143/northcoders/treasure-hunt/treasure-hunt-frontend/src/app/map/page.jsx\",\n                lineNumber: 311,\n                columnNumber: 7\n            }, undefined),\n            isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: \"Loading treasures...\"\n            }, void 0, false, {\n                fileName: \"/home/elr143/northcoders/treasure-hunt/treasure-hunt-frontend/src/app/map/page.jsx\",\n                lineNumber: 321,\n                columnNumber: 21\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_google_maps_api__WEBPACK_IMPORTED_MODULE_3__.GoogleMap, {\n                ref: mapRef,\n                mapContainerStyle: containerStyle,\n                center: watchingPosition ? userLocation : null,\n                zoom: mapZoom,\n                options: options,\n                onZoomChanged: handleZoomChanged,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_google_maps_api__WEBPACK_IMPORTED_MODULE_3__.Marker, {\n                        position: userLocation\n                    }, void 0, false, {\n                        fileName: \"/home/elr143/northcoders/treasure-hunt/treasure-hunt-frontend/src/app/map/page.jsx\",\n                        lineNumber: 330,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_google_maps_api__WEBPACK_IMPORTED_MODULE_3__.MarkerClusterer, {\n                        gridSize: 500,\n                        children: (clusterer)=>treasureLocations.map((treasure1)=>mapZoom >= 16 ? null : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_google_maps_api__WEBPACK_IMPORTED_MODULE_3__.Marker, {\n                                    position: treasure1,\n                                    clusterer: clusterer\n                                }, treasure1.id, false, {\n                                    fileName: \"/home/elr143/northcoders/treasure-hunt/treasure-hunt-frontend/src/app/map/page.jsx\",\n                                    lineNumber: 335,\n                                    columnNumber: 17\n                                }, undefined))\n                    }, void 0, false, {\n                        fileName: \"/home/elr143/northcoders/treasure-hunt/treasure-hunt-frontend/src/app/map/page.jsx\",\n                        lineNumber: 331,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/elr143/northcoders/treasure-hunt/treasure-hunt-frontend/src/app/map/page.jsx\",\n                lineNumber: 322,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/elr143/northcoders/treasure-hunt/treasure-hunt-frontend/src/app/map/page.jsx\",\n        lineNumber: 293,\n        columnNumber: 5\n    }, undefined);\n};\n_s(GoogleMapComponent, \"Jc0pZx/ezROaPmtJBZ5oAvMgx4I=\");\n_c = GoogleMapComponent;\n/* harmony default export */ __webpack_exports__[\"default\"] = (GoogleMapComponent);\nvar _c;\n$RefreshReg$(_c, \"GoogleMapComponent\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvbWFwL3BhZ2UuanN4IiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdCQUFnQjtBQUVoQixXQUFXO0FBQ1gsZUFBZTtBQUNmLG9CQUFvQjtBQUNwQixhQUFhO0FBQ2IscUJBQXFCO0FBQ3JCLG1DQUFtQztBQUNuQywrQ0FBK0M7QUFDL0MsbURBQW1EO0FBRW5ELDJCQUEyQjtBQUMzQixtQkFBbUI7QUFDbkIsb0JBQW9CO0FBQ3BCLEtBQUs7QUFFTCxzQkFBc0I7QUFDdEIsbUZBQW1GO0FBQ25GLG9GQUFvRjtBQUNwRixNQUFNO0FBQ04sd0JBQXdCO0FBQ3hCLDBCQUEwQjtBQUMxQiw4Q0FBOEM7QUFDOUMsT0FBTztBQUNQLGdGQUFnRjtBQUNoRixNQUFNO0FBQ04sd0JBQXdCO0FBQ3hCLGdDQUFnQztBQUNoQyw4Q0FBOEM7QUFDOUMsT0FBTztBQUNQLEtBQUs7QUFFTCxrQkFBa0I7QUFDbEIsZ0JBQWdCO0FBQ2hCLDRCQUE0QjtBQUM1Qiw2Q0FBNkM7QUFDN0MsT0FBTztBQUNQLHVFQUF1RTtBQUN2RSxLQUFLO0FBRUwsMkJBQTJCO0FBQzNCLDZEQUE2RDtBQUM3RCxvQkFBb0I7QUFDcEIsc0JBQXNCO0FBQ3RCLGtDQUFrQztBQUNsQyxRQUFRO0FBRVIscURBQXFEO0FBQ3JELDJEQUEyRDtBQUMzRCwwRUFBMEU7QUFFMUUsd0RBQXdEO0FBQ3hELHdEQUF3RDtBQUN4RCxtREFBbUQ7QUFFbkQscUJBQXFCO0FBQ3JCLCtCQUErQjtBQUMvQixxRUFBcUU7QUFDckUsUUFBUTtBQUVSLHNCQUFzQjtBQUN0QiwwQ0FBMEM7QUFDMUMsNENBQTRDO0FBQzVDLDJDQUEyQztBQUMzQyx1Q0FBdUM7QUFDdkMsaUNBQWlDO0FBQ2pDLGlDQUFpQztBQUNqQyx1QkFBdUI7QUFDdkIsWUFBWTtBQUVaLDhCQUE4QjtBQUM5QixRQUFRO0FBRVIsaUVBQWlFO0FBQ2pFLFlBQVk7QUFFWixzQkFBc0I7QUFDdEIsbUNBQW1DO0FBQ25DLDhCQUE4QjtBQUM5QiwyRUFBMkU7QUFDM0UsVUFBVTtBQUNWLHdDQUF3QztBQUN4QyxZQUFZO0FBRVosdUNBQXVDO0FBQ3ZDLGtEQUFrRDtBQUNsRCxpRUFBaUU7QUFDakUsMEJBQTBCO0FBQzFCLDBFQUEwRTtBQUMxRSxXQUFXO0FBRVgsbUNBQW1DO0FBQ25DLFlBQVk7QUFDWiw4QkFBOEI7QUFDOUIsdUNBQXVDO0FBQ3ZDLG1DQUFtQztBQUNuQyxhQUFhO0FBQ2Isa0NBQWtDO0FBQ2xDLG1DQUFtQztBQUNuQywrQkFBK0I7QUFDL0IsMkVBQTJFO0FBRTNFLDhEQUE4RDtBQUM5RCxvREFBb0Q7QUFDcEQsZ0RBQWdEO0FBQ2hELCtCQUErQjtBQUMvQixrQkFBa0I7QUFDbEIsa0JBQWtCO0FBQ2xCLHlFQUF5RTtBQUN6RSxxQkFBcUI7QUFDckIscUVBQXFFO0FBQ3JFLGNBQWM7QUFDZCxZQUFZO0FBQ1osV0FBVztBQUNYLFFBQVE7QUFDUixPQUFPO0FBRVAsc0JBQXNCO0FBQ3RCLHdDQUF3QztBQUN4QywwQkFBMEI7QUFDMUIsUUFBUTtBQUNSLHVCQUF1QjtBQUV2QixrQ0FBa0M7QUFDbEMsNEJBQTRCO0FBQzVCLE9BQU87QUFFUCwyQkFBMkI7QUFDM0IsU0FBUztBQUNULDhDQUE4QztBQUM5QyxnRUFBZ0U7QUFDaEUsdUNBQXVDO0FBQ3ZDLGlCQUFpQjtBQUNqQiw0RUFBNEU7QUFDNUUsbUJBQW1CO0FBRW5CLG1CQUFtQjtBQUNuQiw2Q0FBNkM7QUFDN0MsMENBQTBDO0FBQzFDLG1CQUFtQjtBQUNuQiw0QkFBNEI7QUFDNUIsVUFBVTtBQUNWLDRCQUE0QjtBQUM1Qiw0QkFBNEI7QUFDNUIsNENBQTRDO0FBQzVDLHlCQUF5QjtBQUN6QiwwQkFBMEI7QUFDMUIsOEJBQThCO0FBQzlCLDhDQUE4QztBQUM5Qyw4Q0FBOEM7QUFDOUMscUJBQXFCO0FBQ3JCLDhDQUE4QztBQUM5Qyx3Q0FBd0M7QUFDeEMsbUJBQW1CO0FBQ25CLGlCQUFpQjtBQUNqQixjQUFjO0FBQ2QsNkJBQTZCO0FBRTdCLG1CQUFtQjtBQUNuQix3QkFBd0I7QUFDeEIsK0NBQStDO0FBQy9DLCtDQUErQztBQUMvQyxlQUFlO0FBQ2YsK0NBQStDO0FBQy9DLDZCQUE2QjtBQUM3QixhQUFhO0FBQ2IscUJBQXFCO0FBQ3JCLFVBQVU7QUFDVixVQUFVO0FBQ1YsNENBQTRDO0FBQzVDLE9BQU87QUFDUCxJQUFJO0FBRUosOEJBQThCOzs7QUFHNkI7QUFDWTtBQUNkO0FBQzNCO0FBRTlCLE1BQU1TLGlCQUFpQjtJQUNyQkMsT0FBTztJQUNQQyxRQUFRO0FBQ1Y7QUFFQSxNQUFNQyxVQUFVO0lBQ2RDLG1CQUFtQjtBQUNyQjtBQUVBLE1BQU1DLHFCQUFxQjs7SUFDekIsa0VBQWtFO0lBQ2xFLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUdmLCtDQUFRQSxDQUFDO1FBQy9DZ0IsS0FBSztRQUNMQyxLQUFLLENBQUM7SUFDUjtJQUNBLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHbkIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDb0IsV0FBV0MsYUFBYSxHQUFHckIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDc0IsbUJBQW1CQyxxQkFBcUIsR0FBR3ZCLCtDQUFRQSxDQUFDLEVBQUU7SUFDN0QsTUFBTSxDQUFDd0IsV0FBV0MsYUFBYSxHQUFHekIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDMEIsa0JBQWtCQyxvQkFBb0IsR0FBRzNCLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQzRCLFNBQVNDLFdBQVcsR0FBRzdCLCtDQUFRQSxDQUFDO0lBRXZDLDZFQUE2RTtJQUU3RUMsZ0RBQVNBLENBQUM7UUFDUixJQUFJeUIsa0JBQWtCO1lBQ3BCLElBQUlJLFVBQVVDLFdBQVcsRUFBRTtnQkFDekJELFVBQVVDLFdBQVcsQ0FBQ0MsYUFBYSxDQUFDLENBQUNDO29CQUNuQyxNQUFNQyxhQUFhO3dCQUNqQmxCLEtBQUtpQixTQUFTRSxNQUFNLENBQUNDLFFBQVE7d0JBQzdCbkIsS0FBS2dCLFNBQVNFLE1BQU0sQ0FBQ0UsU0FBUztvQkFDaEM7b0JBQ0F0QixnQkFBZ0JtQjtnQkFDbEI7WUFDRjtRQUNGLE9BQU87WUFDTCxJQUFJSixVQUFVQyxXQUFXLEVBQUU7Z0JBQ3pCRCxVQUFVQyxXQUFXLENBQUNPLGtCQUFrQixDQUFDLENBQUNMO29CQUN4QyxNQUFNQyxhQUFhO3dCQUNqQmxCLEtBQUtpQixTQUFTRSxNQUFNLENBQUNDLFFBQVE7d0JBQzdCbkIsS0FBS2dCLFNBQVNFLE1BQU0sQ0FBQ0UsU0FBUztvQkFDaEM7b0JBQ0F0QixnQkFBZ0JtQjtnQkFDbEI7WUFDRjtRQUNGO0lBQ0YsR0FBRztRQUFDUjtLQUFpQjtJQUVyQnpCLGdEQUFTQSxDQUFDO1FBQ1JNLGtEQUFHQSxDQUNBZ0MsZUFBZSxHQUNmQyxJQUFJLENBQUMsQ0FBQ0M7WUFDTGxCLHFCQUFxQmtCO1FBQ3ZCLEdBQ0NDLEtBQUssQ0FBQyxDQUFDQztZQUNOQyxRQUFRRCxLQUFLLENBQUMsNkJBQTZCQTtRQUM3QyxHQUNDRSxPQUFPLENBQUM7WUFDUHBCLGFBQWE7UUFDZjtJQUNKLEdBQUcsRUFBRTtJQUVMLE1BQU1xQixhQUFhO1FBQ2pCLElBQUk7WUFDRixNQUFNQyxrQkFDSixNQUFNLElBQUlDLE9BQU9DLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDQyxxQkFBcUIsR0FBR0MsaUJBQWlCLENBQUM7Z0JBQ3JFQyxTQUFTO29CQUNQLElBQUlMLE9BQU9DLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDSSxNQUFNLENBQUN4QyxhQUFhRSxHQUFHLEVBQUVGLGFBQWFHLEdBQUc7aUJBQ2pFO2dCQUNEc0MsY0FBY2pDLGtCQUFrQmtDLEdBQUcsQ0FDakMsQ0FBQ0MsWUFDQyxJQUFJVCxPQUFPQyxNQUFNLENBQUNDLElBQUksQ0FBQ0ksTUFBTSxDQUFDRyxVQUFTekMsR0FBRyxFQUFFeUMsVUFBU3hDLEdBQUc7Z0JBRTVEeUMsWUFBWTtZQUNkO1lBRUYsdUZBQXVGO1lBQ3ZGLE1BQU1DLFlBQVlaLGdCQUFnQmEsSUFBSSxDQUFDLEVBQUUsQ0FBQ0MsUUFBUSxDQUFDTCxHQUFHLENBQ3BELENBQUNNLFVBQVlBLFFBQVFDLFFBQVEsQ0FBQ0MsS0FBSztZQUdyQyw0Q0FBNEM7WUFDNUMsTUFBTUMsa0JBQWtCTixVQUFVTyxJQUFJLENBQUMsQ0FBQ0gsV0FBYUEsWUFBWTtZQUVqRW5CLFFBQVF1QixHQUFHLENBQUNSO1lBQ1p4QyxhQUFhOEM7UUFDZixFQUFFLE9BQU90QixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQ2hEO0lBQ0Y7SUFFQSxNQUFNeUIsZ0JBQWdCO1FBQ3BCL0MsYUFBYW9DLFNBQVNZLEVBQUU7SUFDMUI7SUFFQSxNQUFNQyw0QkFBNEI7UUFDaEMzQyxvQkFBb0IsQ0FBQzRDLGVBQWlCLENBQUNBO0lBQ3pDO0lBRUEsTUFBTUMsU0FBU3RFLDZDQUFNQSxDQUFDO0lBRXRCLE1BQU11RSxvQkFBb0I7UUFDeEI3QixRQUFRdUIsR0FBRyxDQUFDO1FBQ1p2QixRQUFRdUIsR0FBRyxDQUFDSyxPQUFPRSxPQUFPO1FBQzFCLElBQUlDLFlBQVk7UUFDaEIsSUFBSUEsY0FBYyxPQUFPO1lBQ3ZCOUMsV0FBVzJDLE9BQU9FLE9BQU8sQ0FBQ0UsS0FBSyxDQUFDcEIsR0FBRyxDQUFDcUIsSUFBSTtRQUMxQztJQUNGO0lBRUEscUJBQ0UsOERBQUN6RSw4REFBVUE7UUFDVDBFLGtCQUFrQkMseUNBQTJDO1FBQzdERyxRQUFRLElBQU10QyxRQUFRdUIsR0FBRyxDQUFDOzswQkFFMUIsOERBQUNnQjtnQkFDQ0MsV0FBVTtnQkFDVkMsU0FBU3ZDOzBCQUNWOzs7Ozs7MEJBR0QsOERBQUNxQztnQkFDQ0MsV0FBVyxHQUVWLE9BRENsRSxZQUFZLFVBQVUsVUFDdkI7Z0JBQ0RtRSxTQUFTakI7MEJBQ1Y7Ozs7OzswQkFHRCw4REFBQ2U7Z0JBQ0NDLFdBQVcsTUFDVDFELE9BRGVBLG1CQUFtQixRQUFRLFNBQVEsa0JBRW5ELE9BRENBLG1CQUFtQixRQUFRLFNBQzVCO2dCQUNEMkQsU0FBU2Y7MEJBRVI1QyxtQkFDRywyQkFDQTs7Ozs7O1lBRUxGLDJCQUFhLDhEQUFDOEQ7MEJBQUU7Ozs7OzswQkFDakIsOERBQUNuRiw2REFBU0E7Z0JBQ1JvRixLQUFLZjtnQkFDTGdCLG1CQUFtQmhGO2dCQUNuQmlGLFFBQVEvRCxtQkFBbUJaLGVBQWU7Z0JBQzFDK0QsTUFBTWpEO2dCQUNOakIsU0FBU0E7Z0JBQ1QrRSxlQUFlakI7O2tDQUVmLDhEQUFDcEUsMERBQU1BO3dCQUFDNEIsVUFBVW5COzs7Ozs7a0NBQ2xCLDhEQUFDUixtRUFBZUE7d0JBQUNxRixVQUFVO2tDQUN4QixDQUFDQyxZQUNBdEUsa0JBQWtCa0MsR0FBRyxDQUFDLENBQUNDLFlBQ3JCN0IsV0FBVyxLQUFLLHFCQUNkLDhEQUFDdkIsMERBQU1BO29DQUVMNEIsVUFBVXdCO29DQUNWbUMsV0FBV0E7bUNBRk5uQyxVQUFTWSxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBV2xDO0dBNUpNeEQ7S0FBQUE7QUE4Sk4sK0RBQWVBLGtCQUFrQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBwL21hcC9wYWdlLmpzeD8xNDBhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFwidXNlIGNsaWVudFwiO1xuXG4vLyBpbXBvcnQge1xuLy8gICBHb29nbGVNYXAsXG4vLyAgIHVzZUpzQXBpTG9hZGVyLFxuLy8gICBNYXJrZXJGLFxuLy8gICBNYXJrZXJDbHVzdGVyZXIsXG4vLyB9IGZyb20gXCJAcmVhY3QtZ29vZ2xlLW1hcHMvYXBpXCI7XG4vLyBpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG4vLyBpbXBvcnQgQ29sbGVjdFRyZWFzdXJlIGZyb20gXCIuL0NvbGxlY3RUcmVhc3VyZVwiO1xuXG4vLyBjb25zdCBjb250YWluZXJTdHlsZSA9IHtcbi8vICAgd2lkdGg6IFwiMTAwJVwiLFxuLy8gICBoZWlnaHQ6IFwiOTB2aFwiLFxuLy8gfTtcblxuLy8gY29uc3QgdHJlYXN1cmVzID0gW1xuLy8gICB7IHR5cGU6IFwidHJlYXN1cmVcIiwgbmFtZTogXCJCaWcgQmFuXCIsIGNvb3JkczogeyBsYXQ6IDUxLjUwMDcsIGxuZzogLTAuMTI0NiB9IH0sXG4vLyAgIHsgdHlwZTogXCJ0cmVhc3VyZVwiLCBuYW1lOiBcIkJpZyBCYW4yXCIsIGNvb3JkczogeyBsYXQ6IDUxLjUwMTcsIGxuZzogLTAuMTI0NiB9IH0sXG4vLyAgIHtcbi8vICAgICB0eXBlOiBcInRyZWFzdXJlXCIsXG4vLyAgICAgbmFtZTogXCJTdG9uZWhlbmdlXCIsXG4vLyAgICAgY29vcmRzOiB7IGxhdDogNTEuMTc4OSwgbG5nOiAtMS44MjYyIH0sXG4vLyAgIH0sXG4vLyAgIHsgdHlwZTogXCJ0cmVhc3VyZVwiLCBuYW1lOiBcImNsb3Nlc3RcIiwgY29vcmRzOiB7IGxhdDogNTIuMjUsIGxuZzogMC4xMDk1IH0gfSxcbi8vICAge1xuLy8gICAgIHR5cGU6IFwidHJlYXN1cmVcIixcbi8vICAgICBuYW1lOiBcIkVkaW5idXJnaCBDYXN0bGVcIixcbi8vICAgICBjb29yZHM6IHsgbGF0OiA1NS45NDg2LCBsbmc6IC0zLjE5OTkgfSxcbi8vICAgfSxcbi8vIF07XG5cbi8vIGNvbnN0IGljb25zID0ge1xuLy8gICB0cmVhc3VyZToge1xuLy8gICAgIHVybDogXCIvdHJlYXN1cmUucG5nXCIsXG4vLyAgICAgc2NhbGVkU2l6ZTogeyB3aWR0aDogNTAsIGhlaWdodDogNTAgfSxcbi8vICAgfSxcbi8vICAgdXNlcjogeyB1cmw6IFwiL3VzZXIucG5nXCIsIHNjYWxlZFNpemU6IHsgd2lkdGg6IDUwLCBoZWlnaHQ6IDUwIH0gfSxcbi8vIH07XG5cbi8vIGZ1bmN0aW9uIFRyZWFzdXJlTWFwKCkge1xuLy8gICBjb25zdCBbY3VycmVudExvY2F0aW9uLCBzZXRDdXJyZW50TG9jYXRpb25dID0gdXNlU3RhdGUoe1xuLy8gICAgIHR5cGU6IFwidXNlclwiLFxuLy8gICAgIG5hbWU6IFwicGVyc29uXCIsXG4vLyAgICAgY29vcmRzOiB7IGxhdDogMCwgbG5nOiAwIH0sXG4vLyAgIH0pO1xuXG4vLyAgIGNvbnN0IFtwb2ludHMsIHNldFBvaW50c10gPSB1c2VTdGF0ZSh0cmVhc3VyZXMpO1xuLy8gICBjb25zdCBbaXNMb2FkZWRNYXAsIHNldElzTG9hZGVkTWFwXSA9IHVzZVN0YXRlKGZhbHNlKTtcbi8vICAgY29uc3Qgb3B0aW9ucyA9IHsgbWFwSWQ6IFwiYjZhMWUyNmNhNzU2OTA5YlwiLCBtYXBUeXBlQ29udHJvbDogZmFsc2UgfTtcblxuLy8gICBjb25zdCBbZGVzdGluYXRpb24sIHNldERlc3RpbmF0aW9uXSA9IHVzZVN0YXRlKFtdKTtcbi8vICAgY29uc3QgW21pbkRpc3RhbmNlLCBzZXRNaW5EaXN0YW5jZV0gPSB1c2VTdGF0ZSh7fSk7XG4vLyAgIGNvbnN0IFtjb2xsZWN0LCBzZXRDb2xsZWN0XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuLy8gICB1c2VKc0FwaUxvYWRlcih7XG4vLyAgICAgaWQ6IFwiZ29vZ2xlLW1hcC1zY3JpcHRcIixcbi8vICAgICBnb29nbGVNYXBzQXBpS2V5OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19HT09HTEVfTUFQU19BUElfS0VZLFxuLy8gICB9KTtcblxuLy8gICB1c2VFZmZlY3QoKCkgPT4ge1xuLy8gICAgIGZ1bmN0aW9uIGNvb3Jkc0RldGVjdGluZyhyZXNwb25kKSB7XG4vLyAgICAgICBsZXQgbG5nID0gcmVzcG9uZC5jb29yZHMubG9uZ2l0dWRlO1xuLy8gICAgICAgbGV0IGxhdCA9IHJlc3BvbmQuY29vcmRzLmxhdGl0dWRlO1xuLy8gICAgICAgc2V0Q3VycmVudExvY2F0aW9uKChjdXJyKSA9PiB7XG4vLyAgICAgICAgIGN1cnIuY29vcmRzLmxhdCA9IGxhdDtcbi8vICAgICAgICAgY3Vyci5jb29yZHMubG5nID0gbG5nO1xuLy8gICAgICAgICByZXR1cm4gY3Vycjtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBzZXRJc0xvYWRlZE1hcCh0cnVlKTtcbi8vICAgICB9XG5cbi8vICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGNvb3Jkc0RldGVjdGluZyk7XG4vLyAgIH0sIFtdKTtcblxuLy8gICB1c2VFZmZlY3QoKCkgPT4ge1xuLy8gICAgIGNvbnN0IGRlc3RpbmF0aW9uQXJyYXkgPSBbXTtcbi8vICAgICBwb2ludHMubWFwKChwb2ludCkgPT4ge1xuLy8gICAgICAgZGVzdGluYXRpb25BcnJheS5wdXNoKGAke3BvaW50LmNvb3Jkcy5sYXR9LCAke3BvaW50LmNvb3Jkcy5sbmd9YCk7XG4vLyAgICAgfSk7XG4vLyAgICAgc2V0RGVzdGluYXRpb24oZGVzdGluYXRpb25BcnJheSk7XG4vLyAgIH0sIFtdKTtcblxuLy8gICBjb25zdCBjYWxjdWxhdGVEaXN0YW5jZXMgPSAoKSA9PiB7XG4vLyAgICAgaWYgKGN1cnJlbnRMb2NhdGlvbiAmJiBwb2ludHMubGVuZ3RoID4gMCkge1xuLy8gICAgICAgY29uc3Qgc2VydmljZSA9IG5ldyBnb29nbGUubWFwcy5EaXN0YW5jZU1hdHJpeFNlcnZpY2UoKTtcbi8vICAgICAgIGNvbnN0IG9yaWdpbnMgPSBbXG4vLyAgICAgICAgIGAke2N1cnJlbnRMb2NhdGlvbi5jb29yZHMubGF0fSwgJHtjdXJyZW50TG9jYXRpb24uY29vcmRzLmxuZ31gLFxuLy8gICAgICAgXTtcblxuLy8gICAgICAgc2VydmljZS5nZXREaXN0YW5jZU1hdHJpeChcbi8vICAgICAgICAge1xuLy8gICAgICAgICAgIG9yaWdpbnM6IG9yaWdpbnMsXG4vLyAgICAgICAgICAgZGVzdGluYXRpb25zOiBkZXN0aW5hdGlvbixcbi8vICAgICAgICAgICB0cmF2ZWxNb2RlOiBcIldBTEtJTkdcIixcbi8vICAgICAgICAgfSxcbi8vICAgICAgICAgKHJlc3BvbnNlLCBzdGF0dXMpID0+IHtcbi8vICAgICAgICAgICBpZiAoc3RhdHVzID09PSBcIk9LXCIpIHtcbi8vICAgICAgICAgICAgIGxldCBwbGFjZUlkID0gMDtcbi8vICAgICAgICAgICAgIGxldCBtaW4gPSByZXNwb25zZS5yb3dzWzBdLmVsZW1lbnRzW3BsYWNlSWRdLmRpc3RhbmNlLnZhbHVlO1xuXG4vLyAgICAgICAgICAgICByZXNwb25zZS5yb3dzWzBdLmVsZW1lbnRzLm1hcCgoZWxlbWVudCwgaSkgPT4ge1xuLy8gICAgICAgICAgICAgICBpZiAobWluID4gZWxlbWVudC5kaXN0YW5jZS52YWx1ZSkge1xuLy8gICAgICAgICAgICAgICAgIG1pbiA9IGVsZW1lbnQuZGlzdGFuY2UudmFsdWU7XG4vLyAgICAgICAgICAgICAgICAgcGxhY2VJZCA9IGk7XG4vLyAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICAgICAgc2V0TWluRGlzdGFuY2UoeyBkaXN0YW5jZTogbWluLCBwbGFjZTogcG9pbnRzW3BsYWNlSWRdIH0pO1xuLy8gICAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2FsY3VsYXRpbmcgZGlzdGFuY2VzOlwiLCBzdGF0dXMpO1xuLy8gICAgICAgICAgIH1cbi8vICAgICAgICAgfVxuLy8gICAgICAgKTtcbi8vICAgICB9XG4vLyAgIH07XG5cbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcbi8vICAgICBpZiAobWluRGlzdGFuY2UuZGlzdGFuY2UgPCAxMDApIHtcbi8vICAgICAgIHNldENvbGxlY3QodHJ1ZSk7XG4vLyAgICAgfVxuLy8gICB9LCBbbWluRGlzdGFuY2VdKTtcblxuLy8gICBjb25zdCBjaGVja0Rpc3RhbmNlID0gKCkgPT4ge1xuLy8gICAgIGNhbGN1bGF0ZURpc3RhbmNlcygpO1xuLy8gICB9O1xuXG4vLyAgIHJldHVybiBpc0xvYWRlZE1hcCA/IChcbi8vICAgICA8PlxuLy8gICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwidXNlckludGVyYWN0aW9uXCI+XG4vLyAgICAgICAgIDxkaXYgb25DbGljaz17Y2hlY2tEaXN0YW5jZX0gY2xhc3NOYW1lPVwiZmluZCBidXR0b25cIj5cbi8vICAgICAgICAgICBGaW5kIHlvdXIgTmVhcmVzdCBUcmVhc3VyZVxuLy8gICAgICAgICA8L2Rpdj5cbi8vICAgICAgICAge2NvbGxlY3QgPyA8Q29sbGVjdFRyZWFzdXJlIHRyZWFzdXJlPXttaW5EaXN0YW5jZS5wbGFjZX0gLz4gOiBcIlwifVxuLy8gICAgICAgPC9zZWN0aW9uPlxuXG4vLyAgICAgICA8R29vZ2xlTWFwXG4vLyAgICAgICAgIG1hcENvbnRhaW5lclN0eWxlPXtjb250YWluZXJTdHlsZX1cbi8vICAgICAgICAgY2VudGVyPXtjdXJyZW50TG9jYXRpb24uY29vcmRzfVxuLy8gICAgICAgICB6b29tPXs4fVxuLy8gICAgICAgICBvcHRpb25zPXtvcHRpb25zfVxuLy8gICAgICAgPlxuLy8gICAgICAgICA8TWFya2VyQ2x1c3RlcmVyPlxuLy8gICAgICAgICAgIHsoY2x1c3RlcmVyKSA9PlxuLy8gICAgICAgICAgICAgcG9pbnRzLm1hcCgodHJlYXN1cmUsIGkpID0+IChcbi8vICAgICAgICAgICAgICAgPE1hcmtlckZcbi8vICAgICAgICAgICAgICAgICBrZXk9e2l9XG4vLyAgICAgICAgICAgICAgICAgcG9zaXRpb249e3tcbi8vICAgICAgICAgICAgICAgICAgIGxhdDogdHJlYXN1cmUuY29vcmRzLmxhdCxcbi8vICAgICAgICAgICAgICAgICAgIGxuZzogdHJlYXN1cmUuY29vcmRzLmxuZyxcbi8vICAgICAgICAgICAgICAgICB9fVxuLy8gICAgICAgICAgICAgICAgIGljb249e2ljb25zW3RyZWFzdXJlLnR5cGVdfVxuLy8gICAgICAgICAgICAgICAgIGNsdXN0ZXJlcj17Y2x1c3RlcmVyfVxuLy8gICAgICAgICAgICAgICAvPlxuLy8gICAgICAgICAgICAgKSlcbi8vICAgICAgICAgICB9XG4vLyAgICAgICAgIDwvTWFya2VyQ2x1c3RlcmVyPlxuXG4vLyAgICAgICAgIDxNYXJrZXJGXG4vLyAgICAgICAgICAgcG9zaXRpb249e3tcbi8vICAgICAgICAgICAgIGxhdDogY3VycmVudExvY2F0aW9uLmNvb3Jkcy5sYXQsXG4vLyAgICAgICAgICAgICBsbmc6IGN1cnJlbnRMb2NhdGlvbi5jb29yZHMubG5nLFxuLy8gICAgICAgICAgIH19XG4vLyAgICAgICAgICAgaWNvbj17aWNvbnNbY3VycmVudExvY2F0aW9uLnR5cGVdfVxuLy8gICAgICAgICAgIGxhYmVsPXtcIkl0cyBVIVwifVxuLy8gICAgICAgICAvPlxuLy8gICAgICAgPC9Hb29nbGVNYXA+XG4vLyAgICAgPC8+XG4vLyAgICkgOiAoXG4vLyAgICAgPD48aDE+TG9hZGluZywgcGxlYXNlIHdhaXQuLi48L2gxPjwvPlxuLy8gICApO1xuLy8gfVxuXG4vLyBleHBvcnQgZGVmYXVsdCBUcmVhc3VyZU1hcDtcblxuXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBHb29nbGVNYXAsIExvYWRTY3JpcHQsIE1hcmtlciB9IGZyb20gXCJAcmVhY3QtZ29vZ2xlLW1hcHMvYXBpXCI7XG5pbXBvcnQgeyBNYXJrZXJDbHVzdGVyZXIgfSBmcm9tIFwiQHJlYWN0LWdvb2dsZS1tYXBzL2FwaVwiO1xuaW1wb3J0IGFwaSBmcm9tIFwiQC91dGlscy9hcGlcIjtcblxuY29uc3QgY29udGFpbmVyU3R5bGUgPSB7XG4gIHdpZHRoOiBcIjEwMCVcIixcbiAgaGVpZ2h0OiBcIjQwMHB4XCIsXG59O1xuXG5jb25zdCBvcHRpb25zID0ge1xuICBzdHJlZXRWaWV3Q29udHJvbDogZmFsc2UsXG59O1xuXG5jb25zdCBHb29nbGVNYXBDb21wb25lbnQgPSAoKSA9PiB7XG4gIC8vIHRoZSBkZWZhdWx0IGxvY2F0aW9uIHdpbGwgYmUgdGhlIE5vcnRoY29kZXJzIGJhc2UgaW4gTWFuY2hlc3RlclxuICBjb25zdCBbdXNlckxvY2F0aW9uLCBzZXRVc2VyTG9jYXRpb25dID0gdXNlU3RhdGUoe1xuICAgIGxhdDogNTMuNDczNzUsXG4gICAgbG5nOiAtMi4yNDAyNixcbiAgfSk7XG4gIGNvbnN0IFtpc0luUmFuZ2UsIHNldElzSW5SYW5nZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb2xsZWN0ZWQsIHNldENvbGxlY3RlZF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3RyZWFzdXJlTG9jYXRpb25zLCBzZXRUcmVhc3VyZUxvY2F0aW9uc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3dhdGNoaW5nUG9zaXRpb24sIHNldFdhdGNoaW5nUG9zaXRpb25dID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFttYXBab29tLCBzZXRNYXBab29tXSA9IHVzZVN0YXRlKDE3KTtcblxuICAvLyBpZiB0aGUgdXNlciBzY2FucyBhbmQgdGhleSBhcmUgd2l0aGluIHRoZSBjaXJjbGUsIGEgY29sbGVjdCBidXR0b24gYXBwZWFyc1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHdhdGNoaW5nUG9zaXRpb24pIHtcbiAgICAgIGlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHtcbiAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oKHBvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgY29uc3QgdXNlckxhdExuZyA9IHtcbiAgICAgICAgICAgIGxhdDogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLFxuICAgICAgICAgICAgbG5nOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgc2V0VXNlckxvY2F0aW9uKHVzZXJMYXRMbmcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xuICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKChwb3NpdGlvbikgPT4ge1xuICAgICAgICAgIGNvbnN0IHVzZXJMYXRMbmcgPSB7XG4gICAgICAgICAgICBsYXQ6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgICAgIGxuZzogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHNldFVzZXJMb2NhdGlvbih1c2VyTGF0TG5nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbd2F0Y2hpbmdQb3NpdGlvbl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgYXBpXG4gICAgICAuZ2V0QWxsVHJlYXN1cmVzKClcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHNldFRyZWFzdXJlTG9jYXRpb25zKGRhdGEpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHRyZWFzdXJlczpcIiwgZXJyb3IpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlU2NhbiA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGlzdGFuY2VzTWF0cml4ID1cbiAgICAgICAgYXdhaXQgbmV3IHdpbmRvdy5nb29nbGUubWFwcy5EaXN0YW5jZU1hdHJpeFNlcnZpY2UoKS5nZXREaXN0YW5jZU1hdHJpeCh7XG4gICAgICAgICAgb3JpZ2luczogW1xuICAgICAgICAgICAgbmV3IHdpbmRvdy5nb29nbGUubWFwcy5MYXRMbmcodXNlckxvY2F0aW9uLmxhdCwgdXNlckxvY2F0aW9uLmxuZyksXG4gICAgICAgICAgXSxcbiAgICAgICAgICBkZXN0aW5hdGlvbnM6IHRyZWFzdXJlTG9jYXRpb25zLm1hcChcbiAgICAgICAgICAgICh0cmVhc3VyZSkgPT5cbiAgICAgICAgICAgICAgbmV3IHdpbmRvdy5nb29nbGUubWFwcy5MYXRMbmcodHJlYXN1cmUubGF0LCB0cmVhc3VyZS5sbmcpXG4gICAgICAgICAgKSxcbiAgICAgICAgICB0cmF2ZWxNb2RlOiBcIldBTEtJTkdcIixcbiAgICAgICAgfSk7XG5cbiAgICAgIC8vIGRpc3RhbmNlc01hdHJpeC5yb3dzWzBdLmVsZW1lbnRzIHdpbGwgY29udGFpbiBhbiBhcnJheSBvZiBkaXN0YW5jZXMgdG8gZWFjaCB0cmVhc3VyZVxuICAgICAgY29uc3QgZGlzdGFuY2VzID0gZGlzdGFuY2VzTWF0cml4LnJvd3NbMF0uZWxlbWVudHMubWFwKFxuICAgICAgICAoZWxlbWVudCkgPT4gZWxlbWVudC5kaXN0YW5jZS52YWx1ZVxuICAgICAgKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHRyZWFzdXJlIGlzIHdpdGhpbiAyMCBtZXRlcnNcbiAgICAgIGNvbnN0IHJhbmdlT2ZUcmVhc3VyZSA9IGRpc3RhbmNlcy5zb21lKChkaXN0YW5jZSkgPT4gZGlzdGFuY2UgPD0gMjApO1xuXG4gICAgICBjb25zb2xlLmxvZyhkaXN0YW5jZXMpO1xuICAgICAgc2V0SXNJblJhbmdlKHJhbmdlT2ZUcmVhc3VyZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjYWxjdWxhdGluZyBkaXN0YW5jZXM6XCIsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ29sbGVjdCA9ICgpID0+IHtcbiAgICBzZXRDb2xsZWN0ZWQodHJlYXN1cmUuaWQpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVdhdGNoUG9zaXRpb24gPSAoKSA9PiB7XG4gICAgc2V0V2F0Y2hpbmdQb3NpdGlvbigocHJldldhdGNoaW5nKSA9PiAhcHJldldhdGNoaW5nKTtcbiAgfTtcblxuICBjb25zdCBtYXBSZWYgPSB1c2VSZWYoJ21hcCcpXG5cbiAgY29uc3QgaGFuZGxlWm9vbUNoYW5nZWQgPSAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJab29tIGxldmVsIGNoYW5nZWQ6XCIpO1xuICAgIGNvbnNvbGUubG9nKG1hcFJlZi5jdXJyZW50KVxuICAgIGxldCBmaXJzdExvYWQgPSB0cnVlXG4gICAgaWYgKGZpcnN0TG9hZCA9PT0gZmFsc2UpIHtcbiAgICAgIHNldE1hcFpvb20obWFwUmVmLmN1cnJlbnQuc3RhdGUubWFwLnpvb20pXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPExvYWRTY3JpcHRcbiAgICAgIGdvb2dsZU1hcHNBcGlLZXk9e3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0dPT0dMRV9NQVBTX0FQSV9LRVl9XG4gICAgICBvbkxvYWQ9eygpID0+IGNvbnNvbGUubG9nKFwiR29vZ2xlIE1hcHMgQVBJIGxvYWRlZFwiKX1cbiAgICA+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT0nYmctYmx1ZS01MDAgaG92ZXI6YmctYmx1ZS03MDAgdGV4dC13aGl0ZSBmb250LWJvbGQgcHktMiBweC00IHJvdW5kZWQtZnVsbCdcbiAgICAgICAgb25DbGljaz17aGFuZGxlU2Nhbn1cbiAgICAgID5cbiAgICAgICAgU2NhbiBmb3IgVHJlYXN1cmVzIVxuICAgICAgPC9idXR0b24+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17YCR7XG4gICAgICAgICAgaXNJblJhbmdlID8gXCJibG9ja1wiIDogXCJoaWRkZW5cIlxuICAgICAgICB9IGJnLWJsdWUtNTAwIGhvdmVyOmJnLWJsdWUtNzAwIHRleHQtd2hpdGUgZm9udC1ib2xkIHB5LTIgcHgtNCByb3VuZGVkLWZ1bGxgfVxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb2xsZWN0fVxuICAgICAgPlxuICAgICAgICBDb2xsZWN0IFRyZWFzdXJlIVxuICAgICAgPC9idXR0b24+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17YGJnLSR7d2F0Y2hpbmdQb3NpdGlvbiA/IFwicmVkXCIgOiBcImdyZWVuXCJ9LTUwMCBob3ZlcjpiZy0ke1xuICAgICAgICAgIHdhdGNoaW5nUG9zaXRpb24gPyBcInJlZFwiIDogXCJncmVlblwiXG4gICAgICAgIH0tNzAwIHRleHQtd2hpdGUgZm9udC1ib2xkIHB5LTIgcHgtNCByb3VuZGVkLWZ1bGxgfVxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGVXYXRjaFBvc2l0aW9ufVxuICAgICAgPlxuICAgICAgICB7d2F0Y2hpbmdQb3NpdGlvblxuICAgICAgICAgID8gXCJTdG9wIFdhdGNoaW5nIFBvc2l0aW9uXCJcbiAgICAgICAgICA6IFwiU3RhcnQgV2F0Y2hpbmcgUG9zaXRpb25cIn1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAge2lzTG9hZGluZyAmJiA8cD5Mb2FkaW5nIHRyZWFzdXJlcy4uLjwvcD59XG4gICAgICA8R29vZ2xlTWFwXG4gICAgICAgIHJlZj17bWFwUmVmfVxuICAgICAgICBtYXBDb250YWluZXJTdHlsZT17Y29udGFpbmVyU3R5bGV9XG4gICAgICAgIGNlbnRlcj17d2F0Y2hpbmdQb3NpdGlvbiA/IHVzZXJMb2NhdGlvbiA6IG51bGx9XG4gICAgICAgIHpvb209e21hcFpvb219XG4gICAgICAgIG9wdGlvbnM9e29wdGlvbnN9XG4gICAgICAgIG9uWm9vbUNoYW5nZWQ9e2hhbmRsZVpvb21DaGFuZ2VkfVxuICAgICAgPlxuICAgICAgICA8TWFya2VyIHBvc2l0aW9uPXt1c2VyTG9jYXRpb259IC8+XG4gICAgICAgIDxNYXJrZXJDbHVzdGVyZXIgZ3JpZFNpemU9ezUwMH0+XG4gICAgICAgICAgeyhjbHVzdGVyZXIpID0+XG4gICAgICAgICAgICB0cmVhc3VyZUxvY2F0aW9ucy5tYXAoKHRyZWFzdXJlKSA9PlxuICAgICAgICAgICAgICBtYXBab29tID49IDE2ID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgICA8TWFya2VyXG4gICAgICAgICAgICAgICAgICBrZXk9e3RyZWFzdXJlLmlkfVxuICAgICAgICAgICAgICAgICAgcG9zaXRpb249e3RyZWFzdXJlfVxuICAgICAgICAgICAgICAgICAgY2x1c3RlcmVyPXtjbHVzdGVyZXJ9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgPC9NYXJrZXJDbHVzdGVyZXI+XG4gICAgICA8L0dvb2dsZU1hcD5cbiAgICA8L0xvYWRTY3JpcHQ+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHb29nbGVNYXBDb21wb25lbnQ7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkdvb2dsZU1hcCIsIkxvYWRTY3JpcHQiLCJNYXJrZXIiLCJNYXJrZXJDbHVzdGVyZXIiLCJhcGkiLCJjb250YWluZXJTdHlsZSIsIndpZHRoIiwiaGVpZ2h0Iiwib3B0aW9ucyIsInN0cmVldFZpZXdDb250cm9sIiwiR29vZ2xlTWFwQ29tcG9uZW50IiwidXNlckxvY2F0aW9uIiwic2V0VXNlckxvY2F0aW9uIiwibGF0IiwibG5nIiwiaXNJblJhbmdlIiwic2V0SXNJblJhbmdlIiwiY29sbGVjdGVkIiwic2V0Q29sbGVjdGVkIiwidHJlYXN1cmVMb2NhdGlvbnMiLCJzZXRUcmVhc3VyZUxvY2F0aW9ucyIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsIndhdGNoaW5nUG9zaXRpb24iLCJzZXRXYXRjaGluZ1Bvc2l0aW9uIiwibWFwWm9vbSIsInNldE1hcFpvb20iLCJuYXZpZ2F0b3IiLCJnZW9sb2NhdGlvbiIsIndhdGNoUG9zaXRpb24iLCJwb3NpdGlvbiIsInVzZXJMYXRMbmciLCJjb29yZHMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImdldEN1cnJlbnRQb3NpdGlvbiIsImdldEFsbFRyZWFzdXJlcyIsInRoZW4iLCJkYXRhIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJmaW5hbGx5IiwiaGFuZGxlU2NhbiIsImRpc3RhbmNlc01hdHJpeCIsIndpbmRvdyIsImdvb2dsZSIsIm1hcHMiLCJEaXN0YW5jZU1hdHJpeFNlcnZpY2UiLCJnZXREaXN0YW5jZU1hdHJpeCIsIm9yaWdpbnMiLCJMYXRMbmciLCJkZXN0aW5hdGlvbnMiLCJtYXAiLCJ0cmVhc3VyZSIsInRyYXZlbE1vZGUiLCJkaXN0YW5jZXMiLCJyb3dzIiwiZWxlbWVudHMiLCJlbGVtZW50IiwiZGlzdGFuY2UiLCJ2YWx1ZSIsInJhbmdlT2ZUcmVhc3VyZSIsInNvbWUiLCJsb2ciLCJoYW5kbGVDb2xsZWN0IiwiaWQiLCJoYW5kbGVUb2dnbGVXYXRjaFBvc2l0aW9uIiwicHJldldhdGNoaW5nIiwibWFwUmVmIiwiaGFuZGxlWm9vbUNoYW5nZWQiLCJjdXJyZW50IiwiZmlyc3RMb2FkIiwic3RhdGUiLCJ6b29tIiwiZ29vZ2xlTWFwc0FwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19HT09HTEVfTUFQU19BUElfS0VZIiwib25Mb2FkIiwiYnV0dG9uIiwiY2xhc3NOYW1lIiwib25DbGljayIsInAiLCJyZWYiLCJtYXBDb250YWluZXJTdHlsZSIsImNlbnRlciIsIm9uWm9vbUNoYW5nZWQiLCJncmlkU2l6ZSIsImNsdXN0ZXJlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/map/page.jsx\n"));

/***/ })

});